[workspace]
resolver = "2"
members = [
    "crates/bevy-rust-gpu",
    "crates/viewer",
]
default-members = ["crates/viewer"]

[patch.crates-io]
bevy_ecs = { git = "https://github.com/Shfty/bevy", branch = "remove-spv-defs" }
bevy_app = { git = "https://github.com/Shfty/bevy", branch = "remove-spv-defs" }
bevy_render = { git = "https://github.com/Shfty/bevy", branch = "remove-spv-defs" }
bevy = { git = "https://github.com/Shfty/bevy", branch = "remove-spv-defs" }
bevy-rust-gpu = { path = "crates/bevy-rust-gpu" }
shader-util = { path = "../shared/shader-util" }


# Fast-compile config
[profile.dev]
opt-level = 0
overflow-checks = true
debug-assertions = true
debug = true
codegen-units = 16
lto = false
incremental = true

# Use opt level 3 for dependencies
[profile.dev.package."*"]
opt-level = 3
